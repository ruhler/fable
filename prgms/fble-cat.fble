
{ /Unit%; @(Unit@); };
{ /Bool%; @(Bool@, True); };
{ /Maybe%; @(Maybe@); };
{ /Process%; @(Get@, Put@); };
{ /Stdio%; @(Stdio@); };
{ /String%; @(Str@); };

# The 'cat' program to cat stdin.
Stdio@ Cat = (Get@<Maybe@<Str@>> stdin, Put@<Str@> stdout) {
  Maybe@<Str@> line := stdin;
  ?(line;
      just: {
        Unit@ _ := stdout(line.just);
        Cat(stdin, stdout);
      },
      nothing: $(True));
};

Cat;
