
<@>@ Show@ = /Core/Show%.Show@;

% Str = /Core/String%.Str;
% Strs = /Core/String%.Strs;

<@>@ Result@ = /Fbld/Result%.Result@;

<@ T@> { Show@<Result@<T@>>; }
ShowError = <@ T@>(Result@<T@> r) {
  /Fbld/Loc%.Report(r.err.loc, Strs[Str|'error: ', r.err.text]);
};

<@ T@>(Show@<T@>) { Show@<Result@<T@>>; }
Show = <@ T@>(Show@<T@> show)(Result@<T@> r) {
  r.?(err: ShowError(r));
  Strs[Str|'ok: ', show(r.ok)];
};

@(Show, ShowError);
