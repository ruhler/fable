
@ Unit@ = /Unit%.Unit@;

@ Bool@ = /Bool%.Bool@;
% True = /Bool%.True;

<@>@ Maybe@ = /Maybe%.Maybe@;

<@>@ Get@ = /Process%.Get@;
<@>@ Put@ = /Process%.Put@;

@ Stdio@ = /Stdio%.Stdio@;

@ Str@ = /String%.Str@;

# The 'cat' program to cat stdin.
Stdio@ Cat = (Get@<Maybe@<Str@>> stdin, Put@<Str@> stdout) {
  Maybe@<Str@> line := stdin;
  ?(line;
      just: {
        Unit@ _ := stdout(line.just);
        Cat(stdin, stdout);
      },
      nothing: $(True));
};

Cat;
